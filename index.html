<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>UNDETALLIS — Aleatorio Sin Repetir</title>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3GFTY2SWSM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-3GFTY2SWSM');
</script>

<style>
    body {
        margin: 0;
        overflow: hidden;
        height: 100vh;
        width: 100vw;
        display: flex;
        align-items: center;
        justify-content: center;
        background: black;
        font-family: "Arial", sans-serif;
        padding: 20px;
        box-sizing: border-box;
    }
    #fondo {
        position: fixed;
        top: 0;
        left: 0;
        height: 110%;
        width: 110%;
        background-image: url('assets/fondo.jpg');
        background-size: cover;
        background-position: center;
        animation: fondoMovimiento 2.5s infinite ease-in-out alternate;
        filter: blur(4px) brightness(0.8);
        z-index: -1;
    }
    @keyframes fondoMovimiento {
        0% { transform: scale(1.02) translate(-8px, -5px); }
        100% { transform: scale(1.06) translate(6px, 5px); }
    }
    @keyframes rebote {
        0%   { opacity: 0; transform: scale(0.6); filter: blur(4px); }
        40%  { opacity: 1; transform: scale(1.08); }
        70%  { transform: scale(0.94); }
        100% { transform: scale(1); filter: blur(0); }
    }
    #fraseBox {
        max-width: 90%;
        padding: 35px 45px;
        background: white;
        color: black;
        font-size: 38px;
        font-weight: 900;
        border-radius: 24px;
        text-align: center;
        line-height: 1.25;
        box-shadow: 0 0 30px rgba(0,0,0,0.45);
        display: flex;
        justify-content: center;
        align-items: center;
        animation: rebote 0.8s ease-out;
        backdrop-filter: blur(6px);
    }
    @media (max-width: 600px) {
        #fraseBox {
            font-size: 28px;
            padding: 25px 30px;
        }
    }
</style>

<!-- ===================== -->
<!--   FIREBASE + LÓGICA   -->
<!-- ===================== -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBJjxw3ONW_WvUgTKeHALYdmUjTOXB0gFs",
      authDomain: "spicy-da7d7.firebaseapp.com",
      projectId: "spicy-da7d7",
      storageBucket: "spicy-da7d7.firebasestorage.app",
      messagingSenderId: "8855941044",
      appId: "1:8855941044:web:3607c0d43293fbc6490ce1",
      measurementId: "G-K5GK8HR3BE"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    /* ----------------------------- */
    /*      TUS 80 FRASES            */
    /* ----------------------------- */
    const frases = [
"Te reto a que te acerques sin tocarme y veamos quién pierde el control primero",
"Te reto a que me digas exactamente qué te haría explotar de ganas",
"Te reto a que me mires a los ojos mientras imaginas lo que te haría si estuviéramos a solas",
"Te reto a que adivines en qué parte de tu cuerpo quiero mi boca primero",
"Te reto a que me provoques sin usar las manos",
"Te reto a que me digas un deseo tuyo que nunca le has dicho a nadie",
"Te reto a que me digas dónde quieres mis labios ahora mismo",
"Te reto a que te acerques tanto que sienta tu respiración, pero no me toques",
"Te reto a que me digas qué fantasía te gustaría que cumpliera hoy",
"Te reto a que imagines mi boca en tu cuello y mantengas la calma",
"Te reto a que me digas cómo te gustaría que te tocara",
"Te reto a que me digas lo que te haría perder el control",
"Te reto a que me susurres lo que te gustaría hacerme",
"Te reto a que no me beses aunque tengas ganas",
"Te reto a que me digas lo que te encendería ahora mismo",
"Te reto a que cierres los ojos e imagines mis manos donde más te gusta",
"Te reto a que te acerques lento, muy lento… y veamos qué pasa",
"Te reto a que digas qué parte de tu cuerpo quieres que explore primero",
"Te reto a que me digas una fantasía que tengas conmigo",
"Te reto a que me digas cómo te gustaría que te tomara",
"Te reto a que me cuentes qué te haría gemir sin control",
"Te reto a que imagines mis manos recorriéndote despacio",
"Te reto a que me digas qué te gustaría que te hiciera esta noche",
"Te reto a que me digas qué tan lejos irías conmigo ahora mismo",
"Te reto a que describas cómo te gustaría que te bese",
"Te reto a que me digas qué parte de mi cuerpo te provoca más",
"Te reto a que me digas qué te encendería si estuviéramos solos",
"Te reto a que me digas en qué posición me quieres",
"Te reto a que me digas qué sonido tuyo quiero escuchar",
"Te reto a que imagines mis labios bajando por tu cuerpo",
"Te reto a que me digas cuántas ganas tienes ahora mismo",
"Te reto a que me digas qué quieres que haga con mi boca",
"Te reto a que me digas dónde te gustaría que te toque primero",
"Te reto a que imagines mis dedos marcando tu piel",
"Te reto a que me digas qué fantasía secreta cumplirías conmigo",
"Te reto a que me digas qué cosa te volvería loco/a esta noche",
"Te reto a que imagines mis manos apretándote",
"Te reto a que me digas qué tan intenso te gusta",
"Te reto a que me digas qué quieres sentir de mí",
"Te reto a que imagines mi cuerpo sobre el tuyo",
"Te reto a que me digas qué te gustaría probar conmigo",
"Te reto a que me digas qué te hace temblar de placer",
"Te reto a que me digas cómo te gustaría que te domine",
"Te reto a que imagines mis labios en tu punto favorito",
"Te reto a que me digas qué harías si te digo que venga",
"Te reto a que me digas cuál es tu mayor deseo conmigo",
"Te reto a que me digas qué parte mía quieres ahora mismo",
"Te reto a que imagines mi boca en tu oreja susurrándote",
"Te reto a que me digas cuántas ganas tienes de tocarme",
"Te reto a que me digas cómo quieres que te provoque",
"Te reto a que imagines mis manos en tu cintura",
"Te reto a que me digas qué quieres que no pare de hacerte",
"Te reto a que me digas qué te gustaría que pase esta noche",
"Te reto a que imagines mis dedos recorriéndote lento",
"Te reto a que me digas qué gesto mío te calienta más",
"Te reto a que me digas qué te gustaría sentir entre mis manos",
"Te reto a que imagines mis labios rozando tu piel",
"Te reto a que me digas qué harías si cierro la puerta ahora",
"Te reto a que me digas cómo quieres que te agarre",
"Te reto a que imagines mi respiración en tu cuello",
"Te reto a que me digas qué parte tuya quieres que explore",
"Te reto a que me digas lo primero que harías conmigo a solas",
"Te reto a que me digas qué tan fuerte te gusta",
"Te reto a que imagines mi lengua donde más te gusta",
"Te reto a que me digas cuánto tiempo aguantarías sin tocarme",
"Te reto a que me digas qué te haría perder el control de inmediato",
"Te reto a que imagines mi cuerpo pegado al tuyo",
"Te reto a que me digas qué quieres que haga más lento",
"Te reto a que me digas qué quieres que haga más fuerte",
"Te reto a que imagines mi mano bajando por tu piel",
"Te reto a que me digas qué fantasía conmigo repetirías",
"Te reto a que me digas qué sonido tuyo quiero escuchar hoy",
"Te reto a que imagines mis labios donde más te provocan",
"Te reto a que me digas qué te gustaría que pase si apago la luz",
"Te reto a que me digas qué te haría morderte los labios",
"Te reto a que imagines mis dedos entrelazándose con los tuyos mientras te tomo",
"Te reto a que me digas qué quieres sentir primero: mis manos o mi boca",
"Te reto a que me digas qué harías si me acerco demasiado",
"Te reto a que imagines mi boca bajando lentamente por tu cuerpo",
"Te reto a que me digas qué quieres que te haga sin avisar"
    ];

    /* Barajar array */
    function mezclar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    async function cargarFrase() {
        const box = document.getElementById("fraseBox");

        const ordenRef = ref(db, "orden");
        const posRef   = ref(db, "pos");

        const ordenSnap = await get(ordenRef);
        const posSnap   = await get(posRef);

        let orden = ordenSnap.exists() ? ordenSnap.val() : null;
        let pos = posSnap.exists() ? posSnap.val() : 0;

        if (!orden || orden.length !== frases.length) {
            orden = [...Array(frases.length).keys()];
            mezclar(orden);
            await set(ordenRef, orden);
            pos = 0;
            await set(posRef, 0);
        }

        const frase = frases[orden[pos]];
        box.textContent = frase;

        box.style.animation = "none";
        void box.offsetWidth;
        box.style.animation = "rebote 0.8s ease-out";

        pos++;

        if (pos >= frases.length) {
            orden = [...Array(frases.length).keys()];
            mezclar(orden);
            pos = 0;
            await set(ordenRef, orden);
        }

        await set(posRef, pos);
    }

    window.onload = cargarFrase;
</script>
</head>

<body>
    <div id="fondo"></div>
    <div id="fraseBox">Cargando...</div>
</body>
</html>
